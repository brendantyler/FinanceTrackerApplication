@using FinanceTrackerApplication.Areas.Identity.Data
@using FinanceTrackerApplication.Models
@model FinanceTrackerApplicationUser

@{
    ViewData["Title"] = "Home Page";
}

@if(Model != null)
{
    ViewData["Title"] = "Dashboard";
    
    if(ViewData["Message"] != null)
    {
        <div id="message" class="alert alert-success" role="alert">
            @ViewData["Message"]
        </div>
    }
    //Quick Stats: Total Accounts, Most Recent Transaction, ComparativeCharts

    <section id="QuickStats" class="mb-3 col-12">
        <h1>Quick Stats</h1>
        <div class="mb-4">
            <h1>Total Balance: $@ViewData["TotalBalance"] @Model.CurrencyCode</h1>
        </div>
    </section>

    //View of Accounts
    <section id="AccountSection">
        <h3>Welcome back, @Model.UserName,</h3>
        <h5>Here's a quick overview of your finances.</h5>
        <a class="float-end btn btn-primary m-1" href="@Url.Action("Create","Accounts")">Add Account</a>

        @if (Model.Accounts != null)
        {
            <section id="accountsSection">
                <h3 class="p-1">Accounts Overview</h3>
                @if (Model.Accounts.Any(a => a.IsAsset == true))
                {
                    <section class="d-flex justify-content-evenly pt-1, rounded-1">
                        <div class="col-6 p-1">
                            <h5 class="text-center text-light bg-success mb-1 rounded">Assets</h5>
                            @foreach (var a in Model.Accounts.Where(a => a.AccountType != AccountType.Credit || a.AccountType != AccountType.Credit))
                            {

                                <a class="text-decoration-none" href="@Url.Action("Details", "Accounts", new { id = a.Id })">
                                    <div class="card mb-2">
                                        <div class="card-body">
                                            <h5 class="card-title">@a.Name</h5>
                                            <p class="card-text">Balance: @a.Balance</p>
                                        </div>
                                    </div>
                                </a>    
                            }
                        </div>
                        <div class="col-6 p-1">
                            <h5 class="text-center text-light bg-danger mb-1 rounded">Liabilities</h5>
                            @foreach (var a in Model.Accounts.Where(a => a.IsAsset == false))
                            {
                                <a class="text-decoration-none" href="@Url.Action("Details", "Accounts", new { id = a.Id })">
                                    <div class="card mb-2">
                                        <div class="card-body">
                                            <h5 class="card-title">@a.Name</h5>
                                            <p class="card-text">Balance: @a.Balance</p>
                                        </div>
                                    </div>
                                </a>
                            }
                        </div>
                    </section>
                }
                else
                {
                    @foreach(var a in Model.Accounts)
                    {
                        <a href="@Url.Action("Details", "Accounts", new { id = a.Id })">
                            <div class="card mb-2">
                                <div class="card-body">
                                    <h5 class="card-title">@a.Name</h5>
                                    <p class="card-text">Balance: @a.Balance</p>
                                </div>
                            </div>
                        </a>
                    }
                }
                <a class="float-end" href="@Url.Action("Index","Accounts")">View All Accounts</a>
            </section>

            <a class="btn btn-primary col-12" href="@Url.Action("Create", "Transactions"@* , new {optionSelected = 1} *@ )">Quick Add</a>
        }

        else
        {
            <a class="float-end btn btn-primary m-1" href="@Url.Action("Create","Accounts")">Add Account</a>
            <h1>No Accounts</h1>
            @Html.ActionLink("Add Account", "Create", "Accounts")
        }
    </section>
}
else
{
@*     <div class="text-center">
        <h1 class="display-4">Finance Tracker Application</h1>
        <p>Name Is A Work In Progress</p>
        <br />
        <p>Welcome to my application! <a asp-area="Identity" asp-page="/Account/Register">Register</a>/<a asp-area ="Identity" asp-page="/Account/Login">Login</a> to start tracking your finances</p>
    </div>
 *@

    <div class="bg-body">
        <section id="HeroBanner" class="p-5 bg-body">
            <div class="col-12 d-flex justify-content-center align-content-center pb-2">
                <div class="col-4 my-5">
                    <h1 class="display-1 fw-bold"> Koin </h1>
                    <h2 class="mb-5"> Your Financial Health, Simplified </h2>
                    <ul class="fs-3 mb-5">
                        <li>Manage Accounts</li>
                        <li>Track Transactions</li>
                        <li>Manage Spending Habits</li>
                    </ul>
                    <div class=" btn btn-primary fs-4 px-5 py-3">
                        Get Started
                    </div>
                </div>

                <div class="col-6 mx-3 border rounded-2 mx-5 mt-4">
                    Image Mock Here
                </div>
            </div>
        </section>

        <section id="AnnouncementBanner" class="bg-secondary py-4">
            <div class="d-flex justify-content-center text-center">
                <div>
                    <h1 class="display-4">Announcement</h1>
                    <p class="fs-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
                </div>
            </div>
        </section>

        <section id="KeyFeatures" class="d-flex justify-content-center container-fluid h-100 mb-4 bg-body">
            <div class="d-flex flex-wrap justify-content-around w-100 mx-5 mt-5">
                <div style="border-radius: 1rem;" class="border bg-white flex-grow-1 w-50 ms-5 me-4 mb-4 px-4 d-flex">
                    <div class="w-50 py-5 px-4">
                        <h3>Feature</h3>
                        <h1 class="w-75 lh-base fw-normal display-4">Track your existing accounts and see where your money is going</h1>
                        <button class="btn btn-primary mt-3 mb-3 py-3 px-5 fs-4">
                            Start Tracking
                        </button>
                    </div>
                    <div class="border radius rounded-2 w-50 me-3 my-5 bg-black">
                        Image Here
                    </div>
                </div>
                <div style="border-radius: 1rem;" class="bg-white border flex-grow-0 w-25 me-5 mb-4 px-3">
                    <div class="py-5 px-4">
                        <h3>Feature</h3>
                        <h1 class="my-3 lh-sm">Track your existing accounts and see where your money is going</h1>
                        <button class="btn btn-primary mt-3 mb-3 py-3 px-5 fs-4">
                            Start Tracking
                        </button>
                    </div>
                </div>
                <div style="border-radius: 1rem;" class="bg-white border flex-grow-0 w-25 ms-5 me-4 mb-4 px-3">
                    <div class="py-5 px-4">
                        <h3>Feature</h3>
                        <h1 class="my-3 lh-small">Track your existing accounts and see where your money is going</h1>
                        <button class="btn btn-primary mt-3 mb-3 py-3 px-5 fs-4">
                            Start Tracking
                        </button>
                    </div>
                </div>
                <div style="border-radius: 1rem;" class="bg-white border flex-grow-1 w-50 me-5 mb-4 px-4 d-flex">
                    <div class="w-50 py-5 px-4">
                        <h3>Feature</h3>
                        <h1 class="my-3 w-75 lh-base fw-normal display-4">Track your existing accounts and see where your money is going</h1>
                        <button class="btn btn-primary mt-3 mb-3 py-3 px-5 fs-4">
                            Start Tracking
                        </button>
                    </div>
                    <div class="border radius rounded-2 w-50 me-3 my-5 bg-black">
                        Image Here
                    </div>
                </div>
            </div>
        </section>

        <section id="LayoutPreview" class=" d-flex justify-content-center mx-5 rounded-2 mb-5">
            <div style="border-radius: 1rem;" class="bg-white container-fluid border radius-2 mx-5 p-5">
                <div class="d-flex justify-content-center">
                    <div class="col-6">
                        <h1 class="display-4">Feature</h1>
                        <p class="fs-2">Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
                    </div>
                    <div class="col-6 border">
                        image here
                    </div>
                </div>
            </div>
        </section>

        <section id="FAQ" class="bg-secondary mb-5 py-2 rounded-2">
            <div class="mx-5 text-center">
                <div id="FAQTitle" class="col-12 mt-5">
                    <h1 class="display-4">F.A.Q</h1>
                    <p class="fs-4">Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
                </div>
                <div id="FAQLists" class="col-md-12 d-flex justify-content-around mb-5 mt-4">
                    <div class="accordion col-8" id="accordion1">
                        <div class="accordion-item mb-1">
                                <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-controls="collapseOne">
                                        Q: Accordion Item #1
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                    </div>
                                </div>
                            </div>
                        <div class="accordion-item mb-1">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        Q: Accordion Item #2
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                    </div>
                                </div>
                            </div>
                        <div class="accordion-item mb-1">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                       Q: Accordion Item #3
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                    </div>
                                </div>
                            </div>
                        <div class="accordion-item mb-1">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    Q: Accordion Item #4
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-1">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    Q: Accordion Item #5
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item mb-1">
                            <h2 class="accordion-header" id="headingSix">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                    Q: Accordion Item #6
                                </button>
                            </h2>
                            <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="Contact" class="bg-body">
            <header class="text-center">
                <h1 class="display-4">Contact</h1>
                <p class="fs-2">Have any Questions? Just want to know more?</p>
            </header>
            <article class="d-flex justify-content-center">
                <div style="border-radius: 1rem;" class="border text-center m-3 p-5 w-25 bg-white">
                    <img src="./images/Home/LocationIcon.png" class="w-25">
                    <h1>Location</h1>
                    <p class="fs-3">Located in Manitoba, Canada</p>
                </div>
                <div style="border-radius: 1rem;" class="border text-center m-3 p-5 w-25 bg-white">
                    <h1>Contact</h1>
                    <p class="fs-3">Email: N/A <br /> Phone: N/A</p>
                </div>
                <div style="border-radius: 1rem;" class="border text-center m-3 p-5 w-25 rounded-2 bg-white">
                    <h1>Socials</h1>
                    <p class="fs-3">Check Out Out Socials!</p>
                </div>
            </article>
        </section>

        <section id="HeroLanding" class="bg-secondary mb-0 mt-5">
             @*Style 1*@  
@*             <svg viewBox="0 20 100 50" xmlns="http://www.w3.org/2000/svg">
                <path fill="transparent" id="helix" d="M0,30 T20,25,50,50,100,60 M100,80Z" />
                <text x="0">
                    <textPath style="font-size:0.3rem" xlink:href="#helix">
                        Dangerous Curves Ahead Testing testing 123 456 789 Watermelon
                    </textPath>
                </text>
            </svg> *@

            @*SVG style2*@
            <svg viewBox="0 23 100 41" xmlns="http://www.w3.org/2000/svg">
                <path fill="transparent" id="curve" d="M0,60 Q10,60,18,50 Q50,10,82,50 Q90,60,100,60" />
                <text x="0">
                    <textPath style="font-size:0.15rem" xlink:href="#curve">
                        <tspan dx="-0.5">Track Your Finances</tspan>
                        <tspan dx="1.5">Stay Organized</tspan>
                        <tspan dx="1.5">Grow Your Portfolio</tspan>
                        <tspan dx="1.5">Track your Finances</tspan>
                        <tspan dx="1.5">Stay Organized</tspan>
                        <tspan dx="1.5">Grow Your Wealth</tspan>
                        <tspan dx="1.5">Track Your Finances</tspan>
                        <tspan dx="1.5">Stay Organized</tspan>
                        <tspan dx="1.5">Grow Your Portfolio</tspan>
                    </textPath>
                </text>
            </svg>
        </section>
    </div>
}

@section Scripts{
    <script>
        $(document).ready(function(){
            setTimeout(function(){
                $('#message').fadeOut(1000);
            }, 5000);
        });
    </script>
}